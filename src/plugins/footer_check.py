'''
Created on Sep 2, 2014

@author: ivan
'''

from collections import deque
import re
from common import CheckStrategy
from checker import TextLine

class FooterCheck(CheckStrategy):
    name="Page Footer Check"
    help="""<B>Page Footer Check</B><BR>
<BR>

The footer of the page should be in the following format:<BR><BR>

1. Quote number (must be the same on all pages) --> left bottom corner<BR><BR>

2. Issued by Oracle ... entity --> right bottom corner<BR>
    &nbsp&nbsp &nbspDate of the release&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp &nbsp&nbsp&nbsp          --> right bottom corner<BR>
    &nbsp&nbsp &nbspPage X of Y &nbsp&nbsp&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp     &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp               --> right bottom corner<BR><BR><BR>

Example:<BR>
<BR>
<img alt="" src="data:image/gif;base64,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" />"""
    def __init__(self):
        super(FooterCheck,self).__init__()
        self._curr_page=None
        self.footers=[]
        
        
    def feed(self, line):
        pg=line.page_no
        if pg != self._curr_page:
            self.footers.append(deque(maxlen=self.FOOTER_MAX))
            self._curr_page=pg
            
        if line.top >= 90.5:
            self.footers[pg-1].appendleft(line)
            
    
    FOOTER_MAX=4
    PAGE_FOOTER=0
    PG_RE=re.compile(r'^\w+\s+(\d+)\s+\w+\s+(\d+)$', re.UNICODE)  
    QUOTE_RE=re.compile(u'^[\\d]+\\s*[-\u2010\u2011\u2012\u2013\u2014\u2015]\\s*[\\d]+$', re.UNICODE)
    def prepare_results(self):
        pg_count=self._curr_page
        for i in xrange(len(self.footers)):
            if i==0:
                vals=map(lambda v: v.text, self.footers[i])
                while len(vals) and not self.QUOTE_RE.match(vals[-1])  :
                    vals.pop()
                if not len(vals):
                    self.results.add_unplaced("Footer is missing quote number" ,
                                             page=1, top=91)
            else:
                for j in xrange(len(vals)):
                    if j != self.PAGE_FOOTER:
                        try:
                            if self.footers[i][j].text != vals[j]:
                                self.results.add("Footer is different from page 1 '%s'"% vals[j],
                                                 self.footers[i][j] )
                        except IndexError:
                            self.results.add_unplaced("Footer has incorrect number of items %d" % len(self.footers[i]),
                                             page=i-1, top=91)
            paging=self.footers[i][self.PAGE_FOOTER]
            m=self.PG_RE.match(paging.text)
            if m:
                pg, tot=int(m.group(1)), int(m.group(2))
                if pg != i+1 or tot!= pg_count:
                    self.results.add("Page count is wrong is %d/%d but should be %d/%d"% (pg,tot,i+1, pg_count),
                                     paging)
                    
            
        CheckStrategy.prepare_results(self)
                
    